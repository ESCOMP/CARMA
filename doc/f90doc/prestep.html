<HTML>
<HEAD>
   <TITLE> subroutine prestep (generated by f90doc) </TITLE>
</HEAD>
<H1> Subroutine prestep </H1>
<PRE>subroutine prestep

        ! Uses
    use <A HREF="carma_precision_mod.html">carma_precision_mod</A>
    use <A HREF="carma_enums_mod.html">carma_enums_mod</A>
    use <A HREF="carma_constants_mod.html">carma_constants_mod</A>
    use <A HREF="carma_types_mod.html">carma_types_mod</A>
    use <A HREF="carmastate_mod.html">carmastate_mod</A>
    use <A HREF="carma_mod.html">carma_mod</A>

        ! Calls
    call <A HREF="maxconc.html">maxconc</A>
    call <A HREF="smallconc.html">smallconc</A>

        ! Variables
    type (carma_type), intent(in) :: <A HREF="prestep.html#var_carma">carma</A>
    type (carmastate_type), intent(inout) :: <A HREF="prestep.html#var_cstate">cstate</A>
    integer, intent(inout) :: <A HREF="prestep.html#var_rc">rc</A>
    integer :: <A HREF="prestep.html#var_iz">iz</A>
    integer :: <A HREF="prestep.html#var_igrp">igrp</A>
    integer :: <A HREF="prestep.html#var_igas">igas</A>
    integer :: <A HREF="prestep.html#var_ibin">ibin</A>
    integer :: <A HREF="prestep.html#var_ielem">ielem</A>
    integer :: <A HREF="prestep.html#var_iep">iep</A>
    real (kind=f), dimension (NZ, NGAS) :: <A HREF="prestep.html#var_tmp_gc">tmp_gc</A>
    real (kind=f), dimension (NZ) :: <A HREF="prestep.html#var_tmp_t">tmp_t</A>

end subroutine prestep
</PRE>
 This routine handles all preliminary setup at the beginning
 of every timestep.  Things that would appropriately be done
 here include:
  Input or otherwise define interface quantities from other submodels.
  Save any model state that is needed to compute tendencies.
  Save any model state that might be needed for comparison at end of step.
  Update timestep counter and simulation time.
<P>
<STRONG>Author:</STRONG> Bill McKie
<P>
<STRONG>Version:</STRONG> Oct-1995

<HR><H2> Description of Variables </H2>
<A NAME="var_carma"><H3>carma</H3></A>
<PRE>type (carma_type), intent(in) :: carma
</PRE>
 the carma object
<A NAME="var_cstate"><H3>cstate</H3></A>
<PRE>type (carmastate_type), intent(inout) :: cstate
</PRE>
 the carma state object
<A NAME="var_rc"><H3>rc</H3></A>
<PRE>integer, intent(inout) :: rc
</PRE>
 return code, negative indicates failure
<A NAME="var_iz"><H3>iz</H3></A>
<PRE>integer :: iz
</PRE>
<A NAME="var_igrp"><H3>igrp</H3></A>
<PRE>integer :: igrp
</PRE>
<A NAME="var_igas"><H3>igas</H3></A>
<PRE>integer :: igas
</PRE>
<A NAME="var_ibin"><H3>ibin</H3></A>
<PRE>integer :: ibin
</PRE>
<A NAME="var_ielem"><H3>ielem</H3></A>
<PRE>integer :: ielem
</PRE>
<A NAME="var_iep"><H3>iep</H3></A>
<PRE>integer :: iep
</PRE>
<A NAME="var_tmp_gc"><H3>tmp_gc</H3></A>
<PRE>real (kind=f), dimension (NZ, NGAS) :: tmp_gc
</PRE>
<A NAME="var_tmp_t"><H3>tmp_t</H3></A>
<PRE>real (kind=f), dimension (NZ) :: tmp_t
</PRE>
</HTML>
