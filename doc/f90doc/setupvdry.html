<HTML>
<HEAD>
   <TITLE> subroutine setupvdry (generated by f90doc) </TITLE>
</HEAD>
<H1> Subroutine setupvdry </H1>
<PRE>subroutine setupvdry

        ! Uses
    use <A HREF="carma_precision_mod.html">carma_precision_mod</A>
    use <A HREF="carma_enums_mod.html">carma_enums_mod</A>
    use <A HREF="carma_constants_mod.html">carma_constants_mod</A>
    use <A HREF="carma_types_mod.html">carma_types_mod</A>
    use <A HREF="carmastate_mod.html">carmastate_mod</A>
    use <A HREF="carma_mod.html">carma_mod</A>

        ! Calls
    call <A HREF="calcrs.html">calcrs</A>

        ! Variables
    type (carma_type), intent(in) :: <A HREF="setupvdry.html#var_carma">carma</A>
    type (carmastate_type), intent(inout) :: <A HREF="setupvdry.html#var_cstate">cstate</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_lndfv">lndfv</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_ocnfv">ocnfv</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_icefv">icefv</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_lndram">lndram</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_ocnram">ocnram</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_iceram">iceram</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_lndfrac">lndfrac</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_ocnfrac">ocnfrac</A>
    real (kind=f), intent(in) :: <A HREF="setupvdry.html#var_icefrac">icefrac</A>
    integer, intent(inout) :: <A HREF="setupvdry.html#var_rc">rc</A>
    integer :: <A HREF="setupvdry.html#var_ielem">ielem</A>
    integer :: <A HREF="setupvdry.html#var_igroup">igroup</A>
    integer :: <A HREF="setupvdry.html#var_ibin">ibin</A>
    integer :: <A HREF="setupvdry.html#var_icnst">icnst</A>
    integer :: <A HREF="setupvdry.html#var_k">k</A>
    real (kind=f) :: <A HREF="setupvdry.html#var_vd_lnd">vd_lnd</A>
    real (kind=f) :: <A HREF="setupvdry.html#var_vd_ocn">vd_ocn</A>
    real (kind=f) :: <A HREF="setupvdry.html#var_vd_ice">vd_ice</A>
    real (kind=f) :: <A HREF="setupvdry.html#var_rs">rs</A>
    real (kind=f), dimension (NBIN, NGROUP) :: <A HREF="setupvdry.html#var_vfall">vfall</A>
    integer :: <A HREF="setupvdry.html#var_cnsttype">cnsttype</A>
    integer :: <A HREF="setupvdry.html#var_maxbin">maxbin</A>
    integer :: <A HREF="setupvdry.html#var_ibot">ibot</A>
    integer :: <A HREF="setupvdry.html#var_ibotp1">ibotp1</A>

end subroutine setupvdry
</PRE>
 This routine calculates the dry deposition velocity, vd  [cm s^-1]
 Method: Zhang et al., 2001
 vd = vf(pver) + 1./ (rs + ra)
 rs is the surface resistance, which is calculated in here
 ra is the aerodynamic resistance, which is from parent dynamic model, like CAM
 use carma_do_drydep flag optionally to decide if the CARMA or the parent model does the dry deposition
<P>
<STRONG>Author:</STRONG> Tianyi Fan
<P>
<STRONG>Version:</STRONG> Nov-2010

<HR><H2> Description of Variables </H2>
<A NAME="var_carma"><H3>carma</H3></A>
<PRE>type (carma_type), intent(in) :: carma
</PRE>
 the carma object
<A NAME="var_cstate"><H3>cstate</H3></A>
<PRE>type (carmastate_type), intent(inout) :: cstate
</PRE>
 the carma state object
<A NAME="var_lndfv"><H3>lndfv</H3></A>
<PRE>real (kind=f), intent(in) :: lndfv
</PRE>
 the surface friction velocity over land  [cm/s]
<A NAME="var_ocnfv"><H3>ocnfv</H3></A>
<PRE>real (kind=f), intent(in) :: ocnfv
</PRE>
 the surface friction velocity over ocean  [cm/s]
<A NAME="var_icefv"><H3>icefv</H3></A>
<PRE>real (kind=f), intent(in) :: icefv
</PRE>
 the surface friction velocity over ice  [cm/s]
<A NAME="var_lndram"><H3>lndram</H3></A>
<PRE>real (kind=f), intent(in) :: lndram
</PRE>
 the aerodynamic resistance over land [s/cm]
<A NAME="var_ocnram"><H3>ocnram</H3></A>
<PRE>real (kind=f), intent(in) :: ocnram
</PRE>
 the aerodynamic resistance over ocean [s/cm]
<A NAME="var_iceram"><H3>iceram</H3></A>
<PRE>real (kind=f), intent(in) :: iceram
</PRE>
 the aerodynamic resistance over ice [s/cm]
<A NAME="var_lndfrac"><H3>lndfrac</H3></A>
<PRE>real (kind=f), intent(in) :: lndfrac
</PRE>
 land fraction
<A NAME="var_ocnfrac"><H3>ocnfrac</H3></A>
<PRE>real (kind=f), intent(in) :: ocnfrac
</PRE>
 ocn fraction
<A NAME="var_icefrac"><H3>icefrac</H3></A>
<PRE>real (kind=f), intent(in) :: icefrac
</PRE>
 ice fraction
<A NAME="var_rc"><H3>rc</H3></A>
<PRE>integer, intent(inout) :: rc
</PRE>
 return code, negative indicates failure
<A NAME="var_ielem"><H3>ielem</H3></A>
<PRE>integer :: ielem
</PRE>
<A NAME="var_igroup"><H3>igroup</H3></A>
<PRE>integer :: igroup
</PRE>
<A NAME="var_ibin"><H3>ibin</H3></A>
<PRE>integer :: ibin
</PRE>
<A NAME="var_icnst"><H3>icnst</H3></A>
<PRE>integer :: icnst
</PRE>
<A NAME="var_k"><H3>k</H3></A>
<PRE>integer :: k
</PRE>
<A NAME="var_vd_lnd"><H3>vd_lnd</H3></A>
<PRE>real (kind=f) :: vd_lnd
</PRE>
<A NAME="var_vd_ocn"><H3>vd_ocn</H3></A>
<PRE>real (kind=f) :: vd_ocn
</PRE>
<A NAME="var_vd_ice"><H3>vd_ice</H3></A>
<PRE>real (kind=f) :: vd_ice
</PRE>
<A NAME="var_rs"><H3>rs</H3></A>
<PRE>real (kind=f) :: rs
</PRE>
<A NAME="var_vfall"><H3>vfall</H3></A>
<PRE>real (kind=f), dimension (NBIN, NGROUP) :: vfall
</PRE>
<A NAME="var_cnsttype"><H3>cnsttype</H3></A>
<PRE>integer :: cnsttype
</PRE>
<A NAME="var_maxbin"><H3>maxbin</H3></A>
<PRE>integer :: maxbin
</PRE>
<A NAME="var_ibot"><H3>ibot</H3></A>
<PRE>integer :: ibot
</PRE>
<A NAME="var_ibotp1"><H3>ibotp1</H3></A>
<PRE>integer :: ibotp1
</PRE>
</HTML>
