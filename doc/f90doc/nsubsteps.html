<HTML>
<HEAD>
   <TITLE> subroutine nsubsteps (generated by f90doc) </TITLE>
</HEAD>
<H1> Subroutine nsubsteps </H1>
<PRE>subroutine nsubsteps

        ! Uses
    use <A HREF="carma_precision_mod.html">carma_precision_mod</A>
    use <A HREF="carma_enums_mod.html">carma_enums_mod</A>
    use <A HREF="carma_constants_mod.html">carma_constants_mod</A>
    use <A HREF="carma_types_mod.html">carma_types_mod</A>
    use <A HREF="carmastate_mod.html">carmastate_mod</A>
    use <A HREF="carma_mod.html">carma_mod</A>

        ! Variables
    type (carma_type), intent(in) :: <A HREF="nsubsteps.html#var_carma">carma</A>
    type (carmastate_type), intent(inout) :: <A HREF="nsubsteps.html#var_cstate">cstate</A>
    integer, intent(in) :: <A HREF="nsubsteps.html#var_iz">iz</A>
    real (kind=f), intent(in) :: <A HREF="nsubsteps.html#var_dtime_save">dtime_save</A>
    integer, intent(inout) :: <A HREF="nsubsteps.html#var_ntsubsteps">ntsubsteps</A>
    integer, intent(inout) :: <A HREF="nsubsteps.html#var_rc">rc</A>
    integer :: <A HREF="nsubsteps.html#var_ig">ig</A>
    integer :: <A HREF="nsubsteps.html#var_igas">igas</A>
    integer :: <A HREF="nsubsteps.html#var_ibin">ibin</A>
    integer :: <A HREF="nsubsteps.html#var_iepart">iepart</A>
    integer :: <A HREF="nsubsteps.html#var_inuc">inuc</A>
    integer :: <A HREF="nsubsteps.html#var_ienucto">ienucto</A>
    integer, dimension (NGROUP) :: <A HREF="nsubsteps.html#var_ibin_small">ibin_small</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_g0">g0</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_g1">g1</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_dmdt">dmdt</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_dt_adv">dt_adv</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_ss">ss</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_ssold">ssold</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_pvap">pvap</A>
    real (kind=f) :: <A HREF="nsubsteps.html#var_vf_max">vf_max</A>

end subroutine nsubsteps
</PRE>
  This routine calculates the number of sub-timesteps <ntsubsteps>
  for the current model spatial point.
<P>
<STRONG>Author:</STRONG> Eric Jensen
<P>
<STRONG>Version:</STRONG> Apr-2000

<HR><H2> Description of Variables </H2>
<A NAME="var_carma"><H3>carma</H3></A>
<PRE>type (carma_type), intent(in) :: carma
</PRE>
 the carma object
<A NAME="var_cstate"><H3>cstate</H3></A>
<PRE>type (carmastate_type), intent(inout) :: cstate
</PRE>
 the carma state object
<A NAME="var_iz"><H3>iz</H3></A>
<PRE>integer, intent(in) :: iz
</PRE>
 z index
<A NAME="var_dtime_save"><H3>dtime_save</H3></A>
<PRE>real (kind=f), intent(in) :: dtime_save
</PRE>
 original (not substepped) dtime
<A NAME="var_ntsubsteps"><H3>ntsubsteps</H3></A>
<PRE>integer, intent(inout) :: ntsubsteps
</PRE>
 suggested number of substeps
<A NAME="var_rc"><H3>rc</H3></A>
<PRE>integer, intent(inout) :: rc
</PRE>
 return code, negative indicates failure
<A NAME="var_ig"><H3>ig</H3></A>
<PRE>integer :: ig
</PRE>
<A NAME="var_igas"><H3>igas</H3></A>
<PRE>integer :: igas
</PRE>
<A NAME="var_ibin"><H3>ibin</H3></A>
<PRE>integer :: ibin
</PRE>
<A NAME="var_iepart"><H3>iepart</H3></A>
<PRE>integer :: iepart
</PRE>
<A NAME="var_inuc"><H3>inuc</H3></A>
<PRE>integer :: inuc
</PRE>
<A NAME="var_ienucto"><H3>ienucto</H3></A>
<PRE>integer :: ienucto
</PRE>
<A NAME="var_ibin_small"><H3>ibin_small</H3></A>
<PRE>integer, dimension (NGROUP) :: ibin_small
</PRE>
<A NAME="var_g0"><H3>g0</H3></A>
<PRE>real (kind=f) :: g0
</PRE>
<A NAME="var_g1"><H3>g1</H3></A>
<PRE>real (kind=f) :: g1
</PRE>
<A NAME="var_dmdt"><H3>dmdt</H3></A>
<PRE>real (kind=f) :: dmdt
</PRE>
<A NAME="var_dt_adv"><H3>dt_adv</H3></A>
<PRE>real (kind=f) :: dt_adv
</PRE>
<A NAME="var_ss"><H3>ss</H3></A>
<PRE>real (kind=f) :: ss
</PRE>
<A NAME="var_ssold"><H3>ssold</H3></A>
<PRE>real (kind=f) :: ssold
</PRE>
<A NAME="var_pvap"><H3>pvap</H3></A>
<PRE>real (kind=f) :: pvap
</PRE>
<A NAME="var_vf_max"><H3>vf_max</H3></A>
<PRE>real (kind=f) :: vf_max
</PRE>
</HTML>
